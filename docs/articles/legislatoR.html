<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introducing legislatoR • legislatoR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/sandstone/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introducing legislatoR">
<meta property="og:description" content="legislatoR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">legislatoR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/legislatoR.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/saschagobel/legislatoR/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="legislatoR_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Introducing legislatoR</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/saschagobel/legislatoR/blob/master/vignettes/legislatoR.Rmd"><code>vignettes/legislatoR.Rmd</code></a></small>
      <div class="hidden name"><code>legislatoR.Rmd</code></div>

    </div>

    
    
<p><img style="background:white; border:none; box-shadow:none;" src="sticker.jpg" width="175" align="right"></p>
<div id="sascha-göbel-and-simon-munzert-april-2020" class="section level6">
<h6>Sascha Göbel and Simon Munzert – April, 2020</h6>
<p><strong>legislatoR</strong> facilitates access to the Comparative Legislators Database (CLD). The CLD includes political, sociodemographic, career, online presence, public attention, and visual information for over 45,000 contemporary and historical politicians from ten countries. Information is stored in nine topically distinguished tables for each country and arranged in a relational fashion.</p>
<p>This vignette provides an introduction on how to use <strong>legislatoR</strong> to access and make the most of the information stored in the CLD.</p>
</div>
<div id="general-access-to-the-cld" class="section level2">
<h2 class="hasAnchor">
<a href="#general-access-to-the-cld" class="anchor"></a>General access to the CLD</h2>
<p>Basic access to the CLD works through table-specific functions. Functions are named after the table they fetch and preceded by “get_”. The table below lists data tables and corresponding function calls. Alternatively, you can call <code>?legislatoR()</code> to get an overview of all the functions in <strong>legislatoR</strong>.</p>
<table class="table">
<colgroup>
<col width="9%">
<col width="16%">
<col width="58%">
<col width="15%">
</colgroup>
<thead><tr class="header">
<th align="left">Table</th>
<th align="left">Function</th>
<th align="left">Description</th>
<th align="left">Key</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Core</td>
<td align="left"><code><a href="../reference/get_core.html">get_core()</a></code></td>
<td align="left">Fetches sociodemographic data of legislators</td>
<td align="left">pageid, wikidataid</td>
</tr>
<tr class="even">
<td align="left">Political</td>
<td align="left"><code><a href="../reference/get_political.html">get_political()</a></code></td>
<td align="left">Fetches political data of legislators</td>
<td align="left">pageid</td>
</tr>
<tr class="odd">
<td align="left">History</td>
<td align="left"><code><a href="../reference/get_history.html">get_history()</a></code></td>
<td align="left">Fetches full revision histories of legislators’ Wikipedia biographies</td>
<td align="left">pageid</td>
</tr>
<tr class="even">
<td align="left">Traffic</td>
<td align="left"><code><a href="../reference/get_traffic.html">get_traffic()</a></code></td>
<td align="left">Fetches daily user traffic on legislators’ Wikipedia biographies</td>
<td align="left">pageid</td>
</tr>
<tr class="odd">
<td align="left">Social</td>
<td align="left"><code><a href="../reference/get_social.html">get_social()</a></code></td>
<td align="left">Fetches social media handles and website URLs of legislators</td>
<td align="left">wikidataid</td>
</tr>
<tr class="even">
<td align="left">Portraits</td>
<td align="left"><code><a href="../reference/get_portrait.html">get_portrait()</a></code></td>
<td align="left">Fetches portrait urls of legislators</td>
<td align="left">pageid</td>
</tr>
<tr class="odd">
<td align="left">Offices</td>
<td align="left"><code><a href="../reference/get_office.html">get_office()</a></code></td>
<td align="left">Fetches political and other offices of legislators</td>
<td align="left">wikidataid</td>
</tr>
<tr class="even">
<td align="left">Professions</td>
<td align="left"><code><a href="../reference/get_profession.html">get_profession()</a></code></td>
<td align="left">Fetches occupational data of legislators</td>
<td align="left">wikidataid</td>
</tr>
<tr class="odd">
<td align="left">IDs</td>
<td align="left"><code><a href="../reference/get_ids.html">get_ids()</a></code></td>
<td align="left">Fetches a range of IDs of legislators</td>
<td align="left">wikidataid</td>
</tr>
</tbody>
</table>
<p>Every “get_” function has a “legislature” argument that takes a character string specifying the three-letter country code of the legislature for which a table shall be fetched. The table below lists all legislatures available in the CLD together with their three-letter country code. Alternatively, you can call <code>?cld_content()</code> to get an overview of the CLD’s scope and valid three-letter country codes. This will also show you the sessions available for each legislature.</p>
<table class="table">
<thead><tr class="header">
<th align="left">Legislature</th>
<th align="left">Code</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Austria (Nationalrat)</td>
<td align="left"><code>aut</code></td>
</tr>
<tr class="even">
<td align="left">Canada (House of Commons)</td>
<td align="left"><code>can</code></td>
</tr>
<tr class="odd">
<td align="left">Czech Republic (Poslanecka Snemovna)</td>
<td align="left"><code>cze</code></td>
</tr>
<tr class="even">
<td align="left">France (Assemblée)</td>
<td align="left"><code>fra</code></td>
</tr>
<tr class="odd">
<td align="left">Germany (Bundestag)</td>
<td align="left"><code>deu</code></td>
</tr>
<tr class="even">
<td align="left">Ireland (Dail)</td>
<td align="left"><code>irl</code></td>
</tr>
<tr class="odd">
<td align="left">Scotland (Parliament)</td>
<td align="left"><code>sco</code></td>
</tr>
<tr class="even">
<td align="left">Spain (Congreso de los Diputados)</td>
<td align="left"><code>esp</code></td>
</tr>
<tr class="odd">
<td align="left">United Kingdom (House of Commons)</td>
<td align="left"><code>gbr</code></td>
</tr>
<tr class="even">
<td align="left">United States (House and Senate)</td>
<td align="left">
<code>usa_house</code>/<code>usa_senate</code>
</td>
</tr>
</tbody>
</table>
<p>Here are some examples for fetching full tables for different countries. All tables come in a tidy (long) format. Every row represents a politician and every column a variable.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/saschagobel/legislatoR">legislatoR</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tibble.tidyverse.org/">tibble</a></span><span class="op">)</span>

<span class="co"># get "Core" table for the United States House ------------------------------------------</span>
<span class="va">usa_house_core</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_core.html">get_core</a></span><span class="op">(</span>legislature <span class="op">=</span> <span class="st">"usa_house"</span><span class="op">)</span>
<span class="fu"><a href="https://tibble.tidyverse.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">usa_house_core</span><span class="op">)</span>

<span class="co"># get "Political" table for the German Bundestag ----------------------------------------</span>
<span class="va">deu_political</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_political.html">get_political</a></span><span class="op">(</span>legislature <span class="op">=</span> <span class="st">"deu"</span><span class="op">)</span>
<span class="fu"><a href="https://tibble.tidyverse.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">deu_political</span><span class="op">)</span>

<span class="co"># get "IDs" table for the Spanish Congreso ----------------------------------------------</span>
<span class="va">esp_ids</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_ids.html">get_ids</a></span><span class="op">(</span>legislature <span class="op">=</span> <span class="st">"esp"</span><span class="op">)</span>
<span class="fu"><a href="https://tibble.tidyverse.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">esp_ids</span><span class="op">)</span></code></pre></div>
</div>
<div id="targeted-access-to-the-cld" class="section level2">
<h2 class="hasAnchor">
<a href="#targeted-access-to-the-cld" class="anchor"></a>Targeted access to the CLD</h2>
<p><strong>legislatoR</strong> also facilitates more targeted access to the CLD than by simply downloading whole tables. Two legislator-specific keys, the Wikipedia page and the Wikidata ID, link all tables to the “Core” table. This allows for mutating and filtering joins using a popular grammar of data manipulation implemented in the ‘dplyr’ package. The table above lists the relevant key for each data table in the CLD. Here are some examples for combining and subsetting data from different tables. We always start from the “Core” table since it identifies legislators by name and country and never holds a legislator twice.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span>

<span class="co"># combine "Core" and "Political" tables for the Irish Dail ------------------------------</span>
<span class="va">irl_join</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="../reference/get_core.html">get_core</a></span><span class="op">(</span>legislature <span class="op">=</span> <span class="st">"irl"</span><span class="op">)</span>, 
                      y <span class="op">=</span> <span class="fu"><a href="../reference/get_political.html">get_political</a></span><span class="op">(</span>legislature <span class="op">=</span> <span class="st">"irl"</span><span class="op">)</span>, 
                      by <span class="op">=</span> <span class="st">"pageid"</span><span class="op">)</span>
<span class="fu"><a href="https://tibble.tidyverse.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">irl_join</span><span class="op">)</span>

<span class="co"># then add the "Social" table -----------------------------------------------------------</span>
<span class="va">irl_join</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">irl_join</span>, 
                      y <span class="op">=</span> <span class="fu"><a href="../reference/get_social.html">get_social</a></span><span class="op">(</span>legislature <span class="op">=</span> <span class="st">"irl"</span><span class="op">)</span>, 
                      by <span class="op">=</span> <span class="st">"wikidataid"</span><span class="op">)</span>
<span class="fu"><a href="https://tibble.tidyverse.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">irl_join</span><span class="op">)</span>

<span class="co"># get "Core" table for Scottish Liberal Democrats</span>
<span class="va">sco_subset</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter-joins.html">semi_join</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="../reference/get_core.html">get_core</a></span><span class="op">(</span>legislature <span class="op">=</span> <span class="st">"sco"</span><span class="op">)</span>,
                        y <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="fu"><a href="../reference/get_political.html">get_political</a></span><span class="op">(</span>legislature <span class="op">=</span> <span class="st">"sco"</span><span class="op">)</span>, 
                                   <span class="va">party</span> <span class="op">==</span> <span class="st">"Scottish Liberal Democrats"</span><span class="op">)</span>,
                        by <span class="op">=</span> <span class="st">"pageid"</span><span class="op">)</span>
<span class="fu"><a href="https://tibble.tidyverse.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">sco_subset</span><span class="op">)</span>

<span class="co"># combine "Core" and "Political" tables for German Bundestag CDU/CSU and AfD members ----</span>
<span class="va">deu_subset</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">inner_join</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="../reference/get_core.html">get_core</a></span><span class="op">(</span>legislature <span class="op">=</span> <span class="st">"deu"</span><span class="op">)</span>,
                         y <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="fu"><a href="../reference/get_political.html">get_political</a></span><span class="op">(</span>legislature <span class="op">=</span> <span class="st">"deu"</span><span class="op">)</span>, 
                                    <span class="va">party</span> <span class="op">%in%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"CDU"</span>, <span class="st">"CSU"</span>, <span class="st">"AfD"</span><span class="op">)</span><span class="op">)</span>,
                         by <span class="op">=</span> <span class="st">"pageid"</span><span class="op">)</span>
<span class="fu"><a href="https://tibble.tidyverse.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">deu_subset</span><span class="op">)</span>

<span class="co"># combine "Core" and "Political" tables for female legislators from the 37th Canadian </span>
<span class="co"># House of Commons ----------------------------------------------------------------------</span>
<span class="va">can_subset</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">inner_join</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="fu"><a href="../reference/get_core.html">get_core</a></span><span class="op">(</span>legislature <span class="op">=</span> <span class="st">"can"</span><span class="op">)</span>, <span class="va">sex</span> <span class="op">==</span> <span class="st">"female"</span><span class="op">)</span>, 
                         y <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="fu"><a href="../reference/get_political.html">get_political</a></span><span class="op">(</span>legislature <span class="op">=</span> <span class="st">"can"</span><span class="op">)</span>, <span class="va">session</span> <span class="op">==</span> <span class="fl">37</span><span class="op">)</span>, 
                         by <span class="op">=</span> <span class="st">"pageid"</span><span class="op">)</span>
<span class="fu"><a href="https://tibble.tidyverse.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">can_subset</span><span class="op">)</span>

<span class="co"># combine "Core", "Traffic", and "Social" tables for UK House Commons members with </span>
<span class="co"># Twitter handles -----------------------------------------------------------------------</span>
<span class="va">uk_subset</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">inner_join</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="../reference/get_core.html">get_core</a></span><span class="op">(</span>legislature <span class="op">=</span> <span class="st">"gbr"</span><span class="op">)</span>,
                                      y <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="fu"><a href="../reference/get_social.html">get_social</a></span><span class="op">(</span>legislature <span class="op">=</span> <span class="st">"gbr"</span><span class="op">)</span>, <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">twitter</span><span class="op">)</span><span class="op">)</span>,
                                      by <span class="op">=</span> <span class="st">"wikidataid"</span><span class="op">)</span>,
                       y <span class="op">=</span> <span class="fu"><a href="../reference/get_traffic.html">get_traffic</a></span><span class="op">(</span>legislature <span class="op">=</span> <span class="st">"gbr"</span><span class="op">)</span>,
                       by <span class="op">=</span> <span class="st">"pageid"</span><span class="op">)</span>
<span class="fu"><a href="https://tibble.tidyverse.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">uk_subset</span><span class="op">)</span></code></pre></div>
<p>Of course, you can also use the pipe operator <code><a href="https://purrr.tidyverse.org/reference/pipe.html">%&gt;%</a></code> from the ‘magrittr’ package to improve code readability and reach your goal in less steps.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org">magrittr</a></span><span class="op">)</span>

<span class="co"># combine "Core", "IDs", and "Portraits" tables for the Austrian Nationalrat ------------</span>
<span class="va">aut_join</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_core.html">get_core</a></span><span class="op">(</span>legislature <span class="op">=</span> <span class="st">"aut"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span><span class="fu"><a href="../reference/get_ids.html">get_ids</a></span><span class="op">(</span>legislature <span class="op">=</span> <span class="st">"aut"</span><span class="op">)</span>,
            by <span class="op">=</span> <span class="st">"wikidataid"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span><span class="fu"><a href="../reference/get_portrait.html">get_portrait</a></span><span class="op">(</span>legislature <span class="op">=</span> <span class="st">"aut"</span><span class="op">)</span>,
            by <span class="op">=</span> <span class="st">"pageid"</span><span class="op">)</span>
<span class="fu"><a href="https://tibble.tidyverse.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">aut_join</span><span class="op">)</span>

<span class="co"># get "Core" table for high-profile politicians (top 1% of Wikipedia page views) of </span>
<span class="co"># French Assemblée ----------------------------------------------------------------------</span>
<span class="va">fra_subset</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_traffic.html">get_traffic</a></span><span class="op">(</span>legislature <span class="op">=</span> <span class="st">"fra"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">pageid</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>total_traffic <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">traffic</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">total_traffic</span> <span class="op">&gt;=</span> <span class="fu"><a href="https://rdrr.io/r/stats/quantile.html">quantile</a></span><span class="op">(</span><span class="va">total_traffic</span>, probs <span class="op">=</span> <span class="fl">0.99</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter-joins.html">semi_join</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="../reference/get_core.html">get_core</a></span><span class="op">(</span>legislature <span class="op">=</span> <span class="st">"fra"</span><span class="op">)</span>,
            y <span class="op">=</span> <span class="va">.</span>,
            by <span class="op">=</span> <span class="st">"pageid"</span><span class="op">)</span>
<span class="fu"><a href="https://tibble.tidyverse.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">fra_subset</span><span class="op">)</span></code></pre></div>
</div>
<div id="integrating-with-other-sources" class="section level2">
<h2 class="hasAnchor">
<a href="#integrating-with-other-sources" class="anchor"></a>Integrating with other sources</h2>
<p>The CLD is integrated with several other data projects. You can call <code>?get_ids()</code> to get an overview of all projects the CLD is integrated with and how respective IDs are named. Here are two examples that show how to use the IDs to join the CLD with other projects. The first example integrates the “Core” table for the Spanish Congreso with a small one-month-extract of the ParlSpeech V2 data (Rauh and Schwalbach 2020). The second example integrates the “Core” and “Political” tables for the Irish Dail with a small one-month-extract of the Database of Parliamentary Speeches in Ireland (Herzog and Mikhaylov 2017).</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://stringr.tidyverse.org">stringr</a></span><span class="op">)</span>

<span class="co"># import ParlSpeech example and rename ID to match CLD ----------------------------------</span>
<span class="va">parlspeech_example</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html">readRDS</a></span><span class="op">(</span><span class="st">"parlspeech_example"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span><span class="op">(</span>parlspeech <span class="op">=</span> <span class="va">speaker</span><span class="op">)</span>

<span class="co"># remove whitespace from start and end of the ID in ParlSpeech --------------------------</span>
<span class="va">parlspeech_example</span><span class="op">$</span><span class="va">parlspeech</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_trim.html">str_trim</a></span><span class="op">(</span><span class="va">parlspeech_example</span><span class="op">$</span><span class="va">parlspeech</span><span class="op">)</span>

<span class="co"># integrate CLD with ParlSpeech example -------------------------------------------------</span>
<span class="va">esp_speeches</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_core.html">get_core</a></span><span class="op">(</span>legislature <span class="op">=</span> <span class="st">"esp"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span><span class="fu"><a href="../reference/get_ids.html">get_ids</a></span><span class="op">(</span>legislature <span class="op">=</span> <span class="st">"esp"</span><span class="op">)</span>,
            by <span class="op">=</span> <span class="st">"wikidataid"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">parlspeech</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">inner_join</a></span><span class="op">(</span><span class="va">parlspeech_example</span>,
             by <span class="op">=</span> <span class="st">"parlspeech"</span><span class="op">)</span>

<span class="co"># import Database of Parliamentary Speeches in Ireland example and rename ID ------------</span>
<span class="va">dpsi_example</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html">readRDS</a></span><span class="op">(</span><span class="st">"dpsi_example"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span><span class="op">(</span>dpsi <span class="op">=</span> <span class="va">memberID</span><span class="op">)</span>

<span class="co"># integrate CLD with ParlSpeech example -------------------------------------------------</span>
<span class="va">irl_speeches</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_core.html">get_core</a></span><span class="op">(</span>legislature <span class="op">=</span> <span class="st">"irl"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">inner_join</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="fu"><a href="../reference/get_political.html">get_political</a></span><span class="op">(</span>legislature <span class="op">=</span> <span class="st">"irl"</span><span class="op">)</span>, <span class="va">session</span> <span class="op">==</span> <span class="fl">28</span><span class="op">)</span>,
            by <span class="op">=</span> <span class="st">"pageid"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span><span class="fu"><a href="../reference/get_ids.html">get_ids</a></span><span class="op">(</span>legislature <span class="op">=</span> <span class="st">"irl"</span><span class="op">)</span>,
            by <span class="op">=</span> <span class="st">"wikidataid"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">inner_join</a></span><span class="op">(</span><span class="va">dpsi_example</span>,
             by <span class="op">=</span> <span class="st">"dpsi"</span><span class="op">)</span></code></pre></div>
</div>
<div id="map-over-legislatures" class="section level2">
<h2 class="hasAnchor">
<a href="#map-over-legislatures" class="anchor"></a>Map over legislatures</h2>
<p>So far we have accessed the CLD legislature by legislature. It is also possible to retrieve data for multiple legislatures at once with the help of the <code><a href="../reference/cld_content.html">cld_content()</a></code> function. This function returns the three-letter country codes for all legislatures available in the CLD as well as the available legislative sessions. This helps to conveniently map over legislatures. In the first example below we <code><a href="https://purrr.tidyverse.org/reference/map.html">purrr::map()</a></code> over the names of all legislatures to get a list of “Core” tables. In the second example, we do the same and additionally join with the respective “Political” tables cut to the last three legislative sessions. To achieve this, we call <code><a href="../reference/cld_content.html">cld_content()</a></code> within <code><a href="https://purrr.tidyverse.org/reference/map.html">purrr::map()</a></code> one more time, passing the name of the respective legislature to get all available sessions, of which we then select the last three sessions to filter the “Political” tables accordingly before joining with the “Core” table. You can always pass a vector of three-letter country codes to the “legislature” argument of <code><a href="../reference/cld_content.html">cld_content()</a></code> beforehand or otherwise subset the list returned by the function to select a specific subset of legislatures.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://purrr.tidyverse.org">purrr</a></span><span class="op">)</span>

<span class="co"># get "Core" table for all legislatures -------------------------------------------------</span>
<span class="va">all_core</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cld_content.html">cld_content</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html">map</a></span><span class="op">(</span><span class="va">get_core</span><span class="op">)</span>
<span class="fu"><a href="https://tibble.tidyverse.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">all_core</span><span class="op">)</span>

<span class="co"># get "Core" and "Political" tables for last three sessions of all legislatures ----------</span>
<span class="va">recent_sessions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cld_content.html">cld_content</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html">map</a></span><span class="op">(</span><span class="op">~</span> <span class="op">{</span>
    <span class="fu"><a href="../reference/get_core.html">get_core</a></span><span class="op">(</span>legislature <span class="op">=</span> <span class="va">.x</span><span class="op">)</span> <span class="op">%&gt;%</span>
      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">inner_join</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="fu"><a href="../reference/get_political.html">get_political</a></span><span class="op">(</span>legislature <span class="op">=</span> <span class="va">.x</span><span class="op">)</span>,
                        <span class="va">session</span> <span class="op">%in%</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html">tail</a></span><span class="op">(</span><span class="fu"><a href="../reference/cld_content.html">cld_content</a></span><span class="op">(</span><span class="va">.x</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span>,
                 by <span class="op">=</span> <span class="st">"pageid"</span><span class="op">)</span>
  <span class="op">}</span><span class="op">)</span>
<span class="fu"><a href="https://tibble.tidyverse.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">recent_sessions</span><span class="op">)</span></code></pre></div>
</div>
<div id="other-formats" class="section level2">
<h2 class="hasAnchor">
<a href="#other-formats" class="anchor"></a>Other Formats</h2>
<p>You do not have to be an R user to work with the CLD. If you are more familiar in conducting analyses with other software, such as Excel, SAS, STATA, or SPSS, you can use <strong>legislatoR</strong> to get the data you require as illustrated above and then export it into the desired format as shown below.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://haven.tidyverse.org">haven</a></span><span class="op">)</span>

<span class="co"># save data as .csv for use with Excel --------------------------------------------------</span>
<span class="fu"><a href="https://rdrr.io/r/utils/write.table.html">write.csv</a></span><span class="op">(</span><span class="va">fra_subset</span>, <span class="st">"fra_subset.csv"</span><span class="op">)</span>

<span class="co"># save data as .sas for use with SAS ----------------------------------------------------</span>
<span class="fu"><a href="https://haven.tidyverse.org/reference/read_sas.html">write_sas</a></span><span class="op">(</span><span class="va">sco_subset</span>, <span class="st">"sco_subset.sas"</span><span class="op">)</span>

<span class="co"># save data as .dta for use with STATA --------------------------------------------------</span>
<span class="fu"><a href="https://haven.tidyverse.org/reference/read_dta.html">write_dta</a></span><span class="op">(</span><span class="va">irl_join</span>, <span class="st">"irl_join.dta"</span><span class="op">)</span>

<span class="co"># save data as .sav for use with SPSS ---------------------------------------------------</span>
<span class="fu"><a href="https://haven.tidyverse.org/reference/read_spss.html">write_sav</a></span><span class="op">(</span><span class="va">esp_speeches</span>, <span class="st">"esp_speeches.sav"</span><span class="op">)</span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Sascha Goebel, Simon Munzert.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
